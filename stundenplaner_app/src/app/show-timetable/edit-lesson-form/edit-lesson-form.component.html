<mat-card class="add_lecture_card">
  <mat-card-title >{{'TIMETABLE_CRUD.edit_label' | translate}}<mat-card-actions align="end"><button mat-raised-button color="warn" mat-dialog-close class="open_add_menu_button">X</button></mat-card-actions></mat-card-title>
  <mat-card-content>
    <form>
      <div class="attribute_grid">
        <div>

          <mat-form-field appearance="outline" class="attribute">
            <mat-label>{{'TIMETABLE_CRUD.lecture' | translate}}</mat-label>
            <input type="text" [formControl]="lecturesFormControl" matInput [matAutocomplete]="lectureAutocomplete">
            <mat-autocomplete autoActiveFirstOption #lectureAutocomplete="matAutocomplete" [displayWith]="getLectureName">
              <mat-option *ngFor="let lecture of filteredLectures | async" [value]="lecture">
                {{lecture.lectureName}}
              </mat-option>
            </mat-autocomplete>


          </mat-form-field>
          <mat-form-field appearance="outline" class="attribute">
            <mat-label>{{'TIMETABLE_CRUD.day' | translate}}</mat-label>
            <mat-select [formControl]="daysFormControl" required (selectionChange)="filterTimeSlots()">
              <mat-option *ngFor="let day of days" [value]="day">
                {{'SHOW_TIMETABLE.weekday_'+day.id | translate}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" class="attribute">
            <mat-label>{{'TIMETABLE_CRUD.time_slot' | translate}}</mat-label>
            <mat-select [formControl]="timeSlotsFormControl" required>
              <mat-option *ngFor="let timeSlot of filteredTimeSlots" [value]="timeSlot">
                {{timeSlot.start}} - {{timeSlot.end}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div>

          <mat-form-field class="attribute" appearance="outline">
            <mat-label>{{'TIMETABLE_CRUD.room' | translate}}</mat-label>
            <input type="text" [formControl]="roomFormControl" matInput [matAutocomplete]="roomAutocomplete" required>
            <mat-autocomplete autoActiveFirstOption #roomAutocomplete="matAutocomplete" [displayWith]="getRoomName">
              <mat-option *ngFor="let room of filteredRooms | async" [value]="room">
                {{room.number}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field class="attribute" appearance="outline">
            <mat-label>{{'TIMETABLE_CRUD.lecturer' | translate}}</mat-label>
            <input type="text" [formControl]="lecturerFormControl" matInput [matAutocomplete]="lecturerAutocomplete" required>
            <mat-autocomplete autoActiveFirstOption #lecturerAutocomplete="matAutocomplete" [displayWith]="getLecturerName">
              <mat-option *ngFor="let lecturer of filteredLecturers | async" [value]="lecturer">
                {{lecturer.displayName}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>



          <mat-form-field appearance="outline" class="attribute">
            <mat-label>{{'TIMETABLE_CRUD.type' | translate}}</mat-label>
            <mat-select [formControl]="typeFormControl" required>
              <mat-option *ngFor="let type of lessonTypes" [value]="type">
              {{'TIMETABLE_CRUD.type_'+ type.enum | translate}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="attributeName" appearance="outline">
            <mat-label>{{'TIMETABLE_CRUD.note' | translate}}</mat-label>
            <input type="text" [formControl]="lessonNameFormControl" matInput>
          </mat-form-field>


        </div>


      </div>
    </form>
  </mat-card-content>

  <button mat-raised-button color="basic" class="delete_button" (click)="deleteNewLessonInputs()">{{'TIMETABLE_CRUD.delete' | translate}}</button>
  <button mat-raised-button color="primary" (click)="editLesson()">{{'TIMETABLE_CRUD.edit' | translate}}</button>

</mat-card>

